{% extends '../base.html' %}

<!--    Page breadcrumbs (removed)      -->
{% block breadcrumbs %}
    <nav>
        <ol class="breadcrumb mb-0" aria-label="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
            <li class="breadcrumb-item"><a href="{% url 'checkout' cart.id %}">Checkout</a></li>
        </ol>
    </nav>
{% endblock breadcrumbs %}


<!--    Page content      -->
{% block content %}
<main class="container">
    <div class="row">
        <div class="col">
            <ul class="list-group mb-3 z-depth-1">
                {% for item in cart.items.all %}
                <li class="list-group-item d-flex justify-content-between lh-condensed">
                    <div>
                        <h6 class="my-0">{{ item.quantity }} x {{ item.product }}</h6>
                    </div>
                    <div>
                        <span>${{ item.product.price }}</span>
                    </div>
                </li>
                {% endfor %}
                <li class="list-group-item d-flex justify-content-between">
                    <span>Total (USD)</span>
                    <strong>${{ cart.getTotal }}</strong>
                </li>
            </ul>
        </div>
        <div class="col">
            <form method="post">
                {% csrf_token %}
                <h3>Checkout step 1: Address</h3>
                {{ addressform }}
                <h3>Checkout step 2: Payment info</h3>
                {{ paymentform }}

{#                <div class="form-group">#}
{#                    <label for="{{ paymentform.prefix }}-{{ paymentform.cardName.name }}">Full name (on the card)</label>#}
{#                    <input type="text" name="{{ paymentform.prefix }}-{{ paymentform.cardName.name }}" placeholder="Jason Doe" required class="form-control">#}
{#                </div>#}
{#                <div class="form-group">#}
{#                    <label for="{{ paymentform.prefix }}-{{ paymentform.cardNumber.name }}">Card number</label>#}
{#                    <div class="input-group">#}
{#                        <input type="text" name="{{ paymentform.prefix }}-{{ paymentform.cardNumber.name }}" placeholder="Your card number" class="form-control" required>#}
{#                        <div class="input-group-append">#}
{#                            <span class="input-group-text text-muted">#}
{#                                <i class="fa fa-cc-visa mx-1"></i>#}
{#                                <i class="fa fa-cc-amex mx-1"></i>#}
{#                                <i class="fa fa-cc-mastercard mx-1"></i>#}
{#                            </span>#}
{#                        </div>#}
{#                    </div>#}
{#                </div>#}
{#                <div class="row">#}
{#                    <div class="col-sm-4">#}
{#                        <div class="form-group">#}
{#                            <label><span class="hidden-xs">Expiration</span></label>#}
{#                            <div class="input-group">#}
{#                                <input type="text" placeholder="MM/YY" name="{{ paymentform.prefix }}-{{ paymentform.cardExp.name }}" class="form-control" required>#}
{#                            </div>#}
{#                        </div>#}
{#                    </div>#}
{#                    <div class="col-sm-4">#}
{#                        <div class="form-group mb-4">#}
{#                            <label data-toggle="tooltip" title="Three-digits code on the back of your card">CVV#}
{#                                <i class="fa fa-question-circle"></i>#}
{#                            </label>#}
{#                            <input type="text" name="{{ paymentform.prefix }}-{{ paymentform.cardCVC.name }}" required class="form-control">#}
{#                        </div>#}
{#                    </div>#}
{#                </div>#}
                <button type="submit" class="subscribe btn btn-primary btn-block rounded-pill shadow-sm"> Confirm  </button>
            </form>



        </div>
    </div>
</main>
{% endblock content %}